<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		
		<title>Login features</title>
		
		<link href="img/favicon.ico" rel="icon" type="image/x-icon" />
		
		<link href="css/reset.css" rel="stylesheet" type="text/css" />
		<link href="css/style.css" rel="stylesheet" type="text/css" />
		<link href="css/header.css" rel="stylesheet" type="text/css" />
		<link href="css/login.css" rel="stylesheet" type="text/css" />
		<link href="css/console.css" rel="stylesheet" type="text/css" />
		<link href="css/footer.css" rel="stylesheet" type="text/css" />
		
		<script src="js/bundle.min.js" type="text/javascript"></script>
		<script src="js/sample.js" type="text/javascript"></script>
		<script src="js/sample-login.js" type="text/javascript"></script>
		<script src="js/storagemanager.js" type="text/javascript"></script>
		<script src="js/facebook.js" type="text/javascript"></script>
		<script src="js/console.js" type="text/javascript"></script>
	</head>
	
	<body>
		<div class="header">
			<table>
				<tr>
					<td class="header-xtralife_logo">
						<a href="http://xtralife.cloud" target="_blank"><img src="img/logo-xtralife.png" alt="[Logo XtraLife]" /></a>
					</td>
					<td class="header-navigation_menu">
						<ul class="navigation_links">
							<li><a href="./index.html">Home</a></li>
							<li class="currentPage">Login</li>
							<li><a href="./vfs.html">VFS</a></li>
							<li><a href="./leaderboard.html">Leaderboard</a></li>
							<li><a href="./match.html">Match</a></li>
						</ul>
					</td>
					<td class="header-title">
						<h1>JS XtraLife SDK Sample</h1>
						<p id="header-login"></p>
					</td>
				</tr>
			</table>
			<p id="header-credentials"></p>
		</div>
		<div class="content">
			<h1>Login features</h1>
			<p>First of all, to use most of the SDK features you'll need to be logged in as a gamer... Don't forget to check the console for actions feedback!</p>
			<table class="content_table login_features">
				<tr>
					<td>
						<fieldset>
							<legend>Step 1 - Log in to XtraLife with your Facebook account or a new anonymous one</legend>
							<p>You should then store the credentials (check console for gamer_id and gamer_secret) obtained from the Json response to automatically log in again later as the same gamer.</p>
							<table class="login_step">
								<tr>
									<td>
										<button type="button" onclick="sample.LoginAnonymously(null, sample.LoginDone)"><img src="img/logomini-xtralife.png" alt="[LogoMini XtraLife]" />New Anonymous Login</button>
										<button onclick="sample.LoginFacebook(sample.LoginDone)"><img src="img/logomini-facebook.png" alt="[LogoMini Facebook]" />Login With Facebook</button>
									</td>
									<td>
										<button type="button" onclick="sample.LoggedInCheck()">Check XtraLife Login Status</button>
									</td>
									<td>
										<button type="button" onclick="sample.Logout()">Logout (Delete Gamer Cache)</button>
									</td>
								</tr>
								<tr>
									<td colspan="3">
										<p class="login_note"><u>Note for Facebook Login:</u> You will need an up and running server on the "localhost" domain to make it work.</p>
									</td>
								</tr>
							</table>
						</fieldset>
					</td>
				</tr>
				<tr>
					<td>
						<fieldset>
							<legend>Step 2 - For next XtraLife logins, use stored gamer credentials</legend>
							<p>If previous login credentials are stored, use them to log in again as the same gamer and recover his data. This way, you may auto-login the gamer with stored credentials and avoid to ask the gamer to manually login again.</p>
							<table class="login_step">
								<tr>
									<td>
										<button type="button" onclick="sample.LoginWithCredentials(document.getElementById('gamerId').value, document.getElementById('gamerSecret').value, sample.LoginDone)">Login With Credentials =></button>
									</td>
									<td>
										<input type="text" id="gamerId" name="gamerId" value="[Gamer ID]" />
									</td>
									<td>
										<input type="text" id="gamerSecret" name="gamerSecret" value="[Gamer Secret]" />
									</td>
								</tr>
							</table>
						</fieldset>
					</td>
				</tr>
				<tr>
					<td>
						<fieldset>
							<legend> Convert</legend>
							<p>You can try to convert your anonymous account to an mail account.</p>
							<table class="login_step">
								<tr>
									<td>
										<button type="button" onclick="sample.convert(document.getElementById('mailId').value, document.getElementById('mailSecret').value)">Convert =></button>
									</td>
									<td>
										<input type="text" id="mailId" name="mailId" value="[Mail]" />
									</td>
									<td>
										<input type="text" id="mailSecret" name="mailSecret" value="[Gamer Secret]" />
									</td>
								</tr>
							</table>
						</fieldset>
					</td>
				</tr>
				<tr>
					<td>
						<fieldset>
							<legend>Login with Facebook Token</legend>
							<p>If you have an authentification token for Facebook, you can login using it.</p>
							<table class="login_step">
								<tr>
									<td>
										<button type="button" onclick="sample.loginWithFacebook(document.getElementById('auth').value)">Login =></button>
									</td>
									<td>
										<input type="text" id="auth" name="auth" value="[Auth Token]" />
									</td>
								</tr>
							</table>
						</fieldset>
					</td>
				</tr>
				<tr>
					<td>
						<fieldset>
							<legend>Login with OSN (Operating System Notification)</legend>
							<p>You can pass operating system informations as parameters to the login.</p>
							<table class="login_step">
								<tr>
									<td>
										<button type="button" onclick="sample.LoginAnonymously({
											'os': document.getElementById('osnPlatform').value,
											'token': document.getElementById('osnToken').value}
										)">Login =></button>
									</td>
									<td>
										<input type="text" id="osnPlatform" name="osnPlatform" value="ios" />
									</td>
									<td>
										<input type="text" id="osnToken" name="osnToken" value="15E5E768349BD93784714E994547B5BD23A548E2129F0BB826A838A939F905BA" />
									</td>
								</tr>
							</table>
						</fieldset>
					</td>
				</tr>
				<tr>
					<td>
						<fieldset>
							<legend>Here you can check your current XtraLife login status</legend>
							<b><p id="body-login"></p></b>
							<p class="login_status">(Note: You may be logged into Facebook and Facebook XtraLife's app and still be logged out of the XtraLife SDK)</p>
						</fieldset>
					</td>
				</tr>
			</table>
			<div class="console-container">
				<h1>Sample Console</h1>
				<p id="console"></p>
			</div>
		</div>
		<div class="footer">
			<table>
				<tr>
					<td class="footer-xtralife_logo">
						<a href="http://xtralife.cloud" target="_blank"><img src="img/logo-xtralife.png" alt="[Logo XtraLife]" /></a>
					</td>
					<td class="footer-text">
						<p><a href="http://xtralife.cloud" target="_blank">XtraLife.cloud</a></p>
					</td>
					<td class="footer-social_logos">
						<a href="https://www.facebook.com/xtralifecloud" target="_blank"><img src="img/logo-facebook.png" alt="[Logo Facebook]" /></a>
						<a href="https://twitter.com/xtralifecloud" target="_blank"><img src="img/logo-twitter.png" alt="[Logo Twitter]" /></a>
						<a href="https://www.linkedin.com/company/xtra-life" target="_blank"><img src="img/logo-linkedin.png" alt="[Logo LinkedIn]" /></a>
					</td>
				</tr>
			</table>
		</div>
		
		<script type="text/javascript">
		  //<!--
			CheckCredentials();
			
			var storageManager = new StorageManager();
			var sample = new Sample(storageManager);
			
			sample.LoggedInCheck();
		  //-->
		</script>
	</body>
</html>
